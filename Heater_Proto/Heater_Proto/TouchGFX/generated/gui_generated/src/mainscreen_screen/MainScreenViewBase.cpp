/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/mainscreen_screen/MainScreenViewBase.hpp>
#include <touchgfx/Color.hpp>
#include "BitmapDatabase.hpp"
#include <texts/TextKeysAndLanguages.hpp>

uint32_t Timer_Flag = 0;
int Config_Temp;
uint32_t sRelay_Flag;
unsigned char displayContinous;

/*
 @file: MainScreenViewBase.cpp
 @brief: MainSceen of Temperature Display
 @date: 2021-10-04
 @ref: MainScreenView.cpp
 @version: add Timer function
 */

/*********************************************************************************/
/******* IF YOU GENERATE CODE IN TOUCHGFX, THIS CODE WILL BE INITIALIZED  ********/
/****************** YOU SHOULD DEFINITELY BACK UP YOUR FILES  ********************/
/*********************************************************************************/

MainScreenViewBase::MainScreenViewBase() :
    buttonCallback(this, &MainScreenViewBase::buttonCallbackHandler),
    updateItemCallback(this, &MainScreenViewBase::updateItemCallbackHandler)
{

    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);

    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));

    swipeContainer1.setXY(0, 0);
    swipeContainer1.setSwipeCutoff(50);
    swipeContainer1.setEndSwipeElasticWidth(50);

    swipeContainer1Page2.setWidth(480);
    swipeContainer1Page2.setHeight(272);

    box3.setPosition(0, 0, 480, 272);
    box3.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    swipeContainer1Page2.add(box3);

    box4.setPosition(25, 25, 427, 224);
    box4.setColor(touchgfx::Color::getColorFromRGB(171, 171, 171));
    swipeContainer1Page2.add(box4);

    textArea3.setXY(250, 161);
    textArea3.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea3.setLinespacing(0);
    textArea3.setTypedText(touchgfx::TypedText(T_SINGLEUSEID8));
    swipeContainer1Page2.add(textArea3);

    MinText.setXY(195, 161);
    MinText.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    MinText.setLinespacing(0);
    Unicode::snprintf(MinTextBuffer, MINTEXT_SIZE, "%s", touchgfx::TypedText(T_SINGLEUSEID7).getText());
    MinText.setWildcard(MinTextBuffer);
    MinText.resizeToCurrentText();
    MinText.setTypedText(touchgfx::TypedText(T_SINGLEUSEID6));
    swipeContainer1Page2.add(MinText);

    SecText.setXY(314, 161);
    SecText.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    SecText.setLinespacing(0);
    Unicode::snprintf(SecTextBuffer, SECTEXT_SIZE, "%s", touchgfx::TypedText(T_SINGLEUSEID10).getText());
    SecText.setWildcard(SecTextBuffer);
    SecText.resizeToCurrentText();
    SecText.setTypedText(touchgfx::TypedText(T_SINGLEUSEID9));
    swipeContainer1Page2.add(SecText);

    boxWithBorder2.setPosition(63, 59, 100, 160);
    boxWithBorder2.setColor(touchgfx::Color::getColorFromRGB(112, 245, 255));
    boxWithBorder2.setBorderColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    boxWithBorder2.setBorderSize(5);
    swipeContainer1Page2.add(boxWithBorder2);

    TenScrollWheel.setPosition(63, 64, 50, 150);
    TenScrollWheel.setHorizontal(false);
    TenScrollWheel.setCircular(false);
    TenScrollWheel.setEasingEquation(touchgfx::EasingEquations::backEaseOut);
    TenScrollWheel.setSwipeAcceleration(10);
    TenScrollWheel.setDragAcceleration(10);
    TenScrollWheel.setNumberOfItems(10);
    TenScrollWheel.setSelectedItemOffset(50);
    TenScrollWheel.setSelectedItemExtraSize(0, 0);
    TenScrollWheel.setSelectedItemMargin(0, 0);
    TenScrollWheel.setDrawableSize(50, 0);
    TenScrollWheel.setDrawables(TenScrollWheelListItems, updateItemCallback,
                              TenScrollWheelSelectedListItems, updateItemCallback);
    TenScrollWheel.animateToItem(0, 0);
    swipeContainer1Page2.add(TenScrollWheel);

    DigitScrollWheel.setPosition(113, 64, 50, 150);
    DigitScrollWheel.setHorizontal(false);
    DigitScrollWheel.setCircular(false);
    DigitScrollWheel.setEasingEquation(touchgfx::EasingEquations::backEaseOut);
    DigitScrollWheel.setSwipeAcceleration(10);
    DigitScrollWheel.setDragAcceleration(10);
    DigitScrollWheel.setNumberOfItems(10);
    DigitScrollWheel.setSelectedItemOffset(50);
    DigitScrollWheel.setSelectedItemExtraSize(0, 0);
    DigitScrollWheel.setSelectedItemMargin(0, 0);
    DigitScrollWheel.setDrawableSize(50, 0);
    DigitScrollWheel.setDrawables(DigitScrollWheelListItems, updateItemCallback,
                              DigitScrollWheelSelectedListItems, updateItemCallback);
    DigitScrollWheel.animateToItem(0, 0);
    swipeContainer1Page2.add(DigitScrollWheel);

    textArea4.setXY(372, 160);
    textArea4.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea4.setLinespacing(0);
    textArea4.setTypedText(touchgfx::TypedText(T_SINGLEUSEID11));
    swipeContainer1Page2.add(textArea4);

    TimerBtn.setXY(244, 101);
    TimerBtn.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_LARGE_BUTTON_OFF_ID), touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_LARGE_BUTTON_ON_ID));
    TimerBtn.setAction(buttonCallback);
    swipeContainer1Page2.add(TimerBtn);

    line3.setPosition(63, 111, 94, 47);
    line3Painter.setColor(touchgfx::Color::getColorFromRGB(30, 218, 247));
    line3.setPainter(line3Painter);
    line3.setStart(5, 5);
    line3.setEnd(200, 5);
    line3.setLineWidth(4);
    line3.setLineEndingStyle(touchgfx::Line::BUTT_CAP_ENDING);
    swipeContainer1Page2.add(line3);

    line4.setPosition(63, 160, 94, 50);
    line4Painter.setColor(touchgfx::Color::getColorFromRGB(30, 218, 247));
    line4.setPainter(line4Painter);
    line4.setStart(5, 5);
    line4.setEnd(200, 5);
    line4.setLineWidth(4);
    line4.setLineEndingStyle(touchgfx::Line::BUTT_CAP_ENDING);
    swipeContainer1Page2.add(line4);

    line2.setPosition(107, 59, 100, 155);
    line2Painter.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    line2.setPainter(line2Painter);
    line2.setStart(5, 5);
    line2.setEnd(5, 200);
    line2.setLineWidth(6);
    line2.setLineEndingStyle(touchgfx::Line::BUTT_CAP_ENDING);
    swipeContainer1Page2.add(line2);

    textArea7.setXY(379, 36);
    textArea7.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea7.setLinespacing(0);
    textArea7.setTypedText(touchgfx::TypedText(T_SINGLEUSEID20));
    swipeContainer1Page2.add(textArea7);
    swipeContainer1.add(swipeContainer1Page2);

    swipeContainer1Page1.setWidth(480);
    swipeContainer1Page1.setHeight(272);

    box1.setPosition(0, 0, 480, 272);
    box1.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    swipeContainer1Page1.add(box1);

    box2.setPosition(25, 25, 427, 224);
    box2.setColor(touchgfx::Color::getColorFromRGB(171, 171, 171));
    swipeContainer1Page1.add(box2);

    textArea1.setXY(323, 86);
    textArea1.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea1.setLinespacing(0);
    textArea1.setTypedText(touchgfx::TypedText(T_SINGLEUSEID1));
    swipeContainer1Page1.add(textArea1);

    DownBtn.setXY(301, 109);
    DownBtn.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_ROUND_EDGE_ICON_BUTTON_ID), touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_ROUND_EDGE_ICON_BUTTON_PRESSED_ID), touchgfx::Bitmap(BITMAP_BLUE_ICONS_DOWN_ARROW_32_ID), touchgfx::Bitmap(BITMAP_BLUE_ICONS_DOWN_ARROW_32_ID));
    DownBtn.setIconXY(15, 22);
    DownBtn.setAction(buttonCallback);
    swipeContainer1Page1.add(DownBtn);

    boxWithBorder1.setPosition(44, 72, 233, 147);
    boxWithBorder1.setColor(touchgfx::Color::getColorFromRGB(112, 245, 255));
    boxWithBorder1.setBorderColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    boxWithBorder1.setBorderSize(5);
    swipeContainer1Page1.add(boxWithBorder1);

    UpBtn.setXY(365, 109);
    UpBtn.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_ROUND_EDGE_ICON_BUTTON_ID), touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_ROUND_EDGE_ICON_BUTTON_PRESSED_ID), touchgfx::Bitmap(BITMAP_BLUE_ICONS_UP_ARROW_32_ID), touchgfx::Bitmap(BITMAP_BLUE_ICONS_UP_ARROW_32_ID));
    UpBtn.setIconXY(15, 22);
    UpBtn.setAction(buttonCallback);
    swipeContainer1Page1.add(UpBtn);

    RelayBtn.setXY(301, 176);
    RelayBtn.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_LARGE_BUTTON_OFF_ID), touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_LARGE_BUTTON_ON_ID));
    RelayBtn.setAction(buttonCallback);
    swipeContainer1Page1.add(RelayBtn);

    line1.setPosition(157, 69, 100, 150);
    line1Painter.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    line1.setPainter(line1Painter);
    line1.setStart(5, 5);
    line1.setEnd(5, 200);
    line1.setLineWidth(6);
    line1.setLineEndingStyle(touchgfx::Line::BUTT_CAP_ENDING);
    swipeContainer1Page1.add(line1);

    textArea5.setXY(71, 88);
    textArea5.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea5.setLinespacing(0);
    textArea5.setTypedText(touchgfx::TypedText(T_SINGLEUSEID12));
    swipeContainer1Page1.add(textArea5);

    textArea6.setXY(185, 88);
    textArea6.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea6.setLinespacing(0);
    textArea6.setTypedText(touchgfx::TypedText(T_SINGLEUSEID13));
    swipeContainer1Page1.add(textArea6);

    ReadTempText.setXY(61, 147);
    ReadTempText.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    ReadTempText.setLinespacing(0);
    Unicode::snprintf(ReadTempTextBuffer, READTEMPTEXT_SIZE, "%s", touchgfx::TypedText(T_SINGLEUSEID15).getText());
    ReadTempText.setWildcard(ReadTempTextBuffer);
    ReadTempText.resizeToCurrentText();
    ReadTempText.setTypedText(touchgfx::TypedText(T_SINGLEUSEID14));
    swipeContainer1Page1.add(ReadTempText);

    ConfigTempText.setXY(195, 147);
    ConfigTempText.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    ConfigTempText.setLinespacing(0);
    Unicode::snprintf(ConfigTempTextBuffer, CONFIGTEMPTEXT_SIZE, "%s", touchgfx::TypedText(T_SINGLEUSEID17).getText());
    ConfigTempText.setWildcard(ConfigTempTextBuffer);
    ConfigTempText.resizeToCurrentText();
    ConfigTempText.setTypedText(touchgfx::TypedText(T_SINGLEUSEID16));
    swipeContainer1Page1.add(ConfigTempText);

    textArea1_1.setXY(361, 36);
    textArea1_1.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea1_1.setLinespacing(0);
    textArea1_1.setTypedText(touchgfx::TypedText(T_SINGLEUSEID18));
    swipeContainer1Page1.add(textArea1_1);

    textArea1_1_1.setXY(44, 36);
    textArea1_1_1.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea1_1_1.setLinespacing(0);
    textArea1_1_1.setTypedText(touchgfx::TypedText(T_SINGLEUSEID19));
    swipeContainer1Page1.add(textArea1_1_1);

    timer_img.setXY(305, 33);
    timer_img.setBitmap(touchgfx::Bitmap(BITMAP_TIMER_2PRO_ID));
    timer_img.setAlpha(60);
    swipeContainer1Page1.add(timer_img);

    textArea8.setXY(211, 36);
    textArea8.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea8.setLinespacing(0);
    textArea8.setAlpha(60);
    textArea8.setTypedText(touchgfx::TypedText(T_SINGLEUSEID21));
    swipeContainer1Page1.add(textArea8);

    textArea9.setXY(258, 36);
    textArea9.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea9.setLinespacing(0);
    textArea9.setAlpha(60);
    textArea9.setTypedText(touchgfx::TypedText(T_SINGLEUSEID22));
    swipeContainer1Page1.add(textArea9);

    textArea10.setXY(182, 36);
    textArea10.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea10.setLinespacing(0);
    textArea10.setAlpha(60);
    Unicode::snprintf(textArea10Buffer, TEXTAREA10_SIZE, "%s", touchgfx::TypedText(T_SINGLEUSEID24).getText());
    textArea10.setWildcard(textArea10Buffer);
    textArea10.resizeToCurrentText();
    textArea10.setTypedText(touchgfx::TypedText(T_SINGLEUSEID23));
    swipeContainer1Page1.add(textArea10);

    textArea11.setXY(231, 36);
    textArea11.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea11.setLinespacing(0);
    textArea11.setAlpha(60);
    Unicode::snprintf(textArea11Buffer, TEXTAREA11_SIZE, "%s", touchgfx::TypedText(T_SINGLEUSEID26).getText());
    textArea11.setWildcard(textArea11Buffer);
    textArea11.resizeToCurrentText();
    textArea11.setTypedText(touchgfx::TypedText(T_SINGLEUSEID25));
    swipeContainer1Page1.add(textArea11);
    swipeContainer1.add(swipeContainer1Page1);
    swipeContainer1.setSelectedPage(1);

    add(__background);
    add(swipeContainer1);
}

void MainScreenViewBase::setupScreen()
{
    TenScrollWheel.initialize();
    for (int i = 0; i < TenScrollWheelListItems.getNumberOfDrawables(); i++)
    {
        TenScrollWheelListItems[i].initialize();
    }
    for (int i = 0; i < TenScrollWheelSelectedListItems.getNumberOfDrawables(); i++)
    {
        TenScrollWheelSelectedListItems[i].initialize();
    }
    DigitScrollWheel.initialize();
    for (int i = 0; i < DigitScrollWheelListItems.getNumberOfDrawables(); i++)
    {
        DigitScrollWheelListItems[i].initialize();
    }
    for (int i = 0; i < DigitScrollWheelSelectedListItems.getNumberOfDrawables(); i++)
    {
        DigitScrollWheelSelectedListItems[i].initialize();
    }
}

void MainScreenViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
	if (&src == &TimerBtn)
	    {
	        //Interaction4
	        //When TimerBtn clicked execute C++ code
	        //Execute C++ code
	        if(TimerBtn.getState())
	        {
	        	Timer_Flag = 1;
	        }
	        else
	        {
	        	Timer_Flag = 0;
	        }
	    }
	    else if (&src == &DownBtn)
	    {
	        //Interaction3
	        //When DownBtn clicked execute C++ code
	        //Execute C++ code
	        --Config_Temp;
	        displayContinous = 0;
	    }
	    else if (&src == &UpBtn)
	    {
	        //Interaction2
	        //When UpBtn clicked execute C++ code
	        //Execute C++ code
	        ++Config_Temp;
	        displayContinous = 0;

	    }
	    else if (&src == &RelayBtn)
	    {
	        //Interaction1
	        //When RelayBtn clicked execute C++ code
	        //Execute C++ code
	    	if(RelayBtn.getState())
	    	{
	    		sRelay_Flag = 1;
	    	}
	    	else
	    	{
	    		sRelay_Flag = 0;
	    	}
	    }
}

void MainScreenViewBase::updateItemCallbackHandler(touchgfx::DrawableListItemsInterface* items, int16_t containerIndex, int16_t itemIndex)
{
    if (items == &TenScrollWheelListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        CustomContainer1* cc = (CustomContainer1*)d;
        TenScrollWheelUpdateItem(*cc, itemIndex);
    }
    else if (items == &TenScrollWheelSelectedListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        CustomContainer2* cc = (CustomContainer2*)d;
        TenScrollWheelUpdateCenterItem(*cc, itemIndex);
    }
    if (items == &DigitScrollWheelListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        CustomContainer1* cc = (CustomContainer1*)d;
        DigitScrollWheelUpdateItem(*cc, itemIndex);
    }
    else if (items == &DigitScrollWheelSelectedListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        CustomContainer2* cc = (CustomContainer2*)d;
        DigitScrollWheelUpdateCenterItem(*cc, itemIndex);
    }
}
